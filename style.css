




/* Variables CSS para personalización */



:root {
    --header-bg-color: #add8e6; /* Color de fondo por defecto para la cabecera */
    --app-bg-color: #99993c; /* Color de fondo por defecto para el cuerpo de la aplicación */
    --title-color: #343a40; /* Color de texto por defecto para los títulos */
    --event-name-font: 'Lucida Console', Monaco; /* Fuente por defecto para los nombres de eventos */
    /* Variables CSS para el color de texto dinámico */
    --header-text-color: #dc06f0; /* Color de texto por defecto para cabeceras (ej: negro) */
    --body-text-color: #a90bf1; /* Color de texto por defecto para el cuerpo (ej: negro) */
}
 


/* controla la visibilidad de pantallas para la SPA */
   
    /* Contenedores de cada pantalla */
    body {
        background-color: var(--app-bg-color); /* Aplicar color de fondo a todo el body usando la variable */
        font-family: Arial, Verdana, sans-serif; 
    }


    #main-screen,
    #charts-screen,
    #edit-screen,
    #personalization-screen {
        display: flex; /* Usar flexbox */
        flex-direction: column; /* Alinear elementos en columna */
        height: 100vh; /* Altura completa de la ventana */
    }
    
    /* Ocultar las pantallas por defecto, excepto la principal */
    #charts-screen,
    #edit-screen,
    #personalization-screen {
        display: none; /* Ocultar estas pantallas por defecto */
    }
    /* La pantalla principal se mantiene visible por defecto (ya tiene display: flex de la regla anterior) */
   
  



 /* atributos generales */

    /* Clase para aplicar el color de texto dinámico de cabecera */
    .text-header-dynamic {
        color: var(--header-text-color);
        font-weight: bold; /* Añade negrita al texto */
    }

    /* Clase para aplicar el color de texto dinámico del cuerpo */
    .text-body-dynamic {
        color: var(--body-text-color);
    }
    
    /* Añade la siguiente regla CSS para asegurar que el ícono dentro del botón `#unselect-all-button` sea de color negro: */
    #unselect-all-button i {
        color: black; /* Establece el color del ícono a negro */
    }

    /* Estilos base para todos los botones */
    button {
            padding: 5px 10px; /* agrega borde a lso botones, pero deve sobreescribirse */
            cursor: pointer;
    }

    /* Estilos para los botones de la aplicación (normales) */
    .app-button {
        /* Define aquí todos los estilos para tus botones normales */
        background-color: #ddddd3; /* Gris por defecto (puedes usar variables aquí) */
        color: #0a0258; /* Texto negro por defecto (puedes usar variables aquí) */
        /*padding: 8px 12px; /* Espacio interno */
        border: none; /* Sin borde */
        border-radius: 4px; /* Esquinas ligeramente redondeadas (o 0 para cuadradas) */
        font-size: 16px; /* Tamaño de fuente relativo */
        /* Otras propiedades como margin, text-transform, etc. */
    }














/* Cabecera (comun a todas las pantallas) */
  
    /* Contenedor para la sección superior de la pantalla (alinea la sección del título  con la de los botones, para todas las pantallas) */
    .top-section {
        display: flex; /* Usa flexbox */
        flex-direction: column; /* Apila los elementos hijos verticalmente */
        background-color: var(--header-bg-color); /* color de fondo dinamico cabecera */
    }

    /* Contenedor para el título y el botón informativo en la pantalla principal */
    .title-info-container {
        display: flex; /* Usa flexbox para alinear el título y el botón */
        justify-content: center; /* Centra horizontalmente el título y el botón como grupo */
        align-items: center; /* Centra verticalmente el título y el botón */
        
    }

    /* Contenedor para los botones de acción () */
    .action-buttons-container {
        display: flex; /* Usar flexbox para los botones */
        justify-content: center; /* Centrar botones horizontalmente */
        gap: 8px; /* Espacio entre botones */
        margin-top: -20px; /* quita espacio arriba del contenedor de botones para juntarlo con el título */
        margin-bottom: 10px; /* Añade espacio abajo del contenedor de botones para separarlo de los eventos */
        align-items: center; /* Centra elementos verticalmente */
    }
    
        /* Estilos específicos para los botones en la cabecera */
        .action-buttons-container button, #info-button {
            padding: 3px; /* Sobrescribe el padding base de 10px 15px */
        }


        /* Estilos para el primer botón en el contenedor de acciones (undo-button) */
        .action-buttons-container #undo-button {
            margin-right: 15px; /* Añade espacio a la derecha del botón de deshacer */
            /* Puedes ajustar el valor según necesites */
        }

        /* Estilos para el último botón en el contenedor de acciones (unselect-all-button) */
        .action-buttons-container #unselect-all-button {
            margin-left: 15px; /* Añade espacio a la izquierda del botón de deseleccionar todo */
            /* Puedes ajustar el valor según necesites */
        }


















/* Pantalla principal */

    /* Título principal */
    h1 {
        color: var(--title-color); /* Usar variable CSS */
        font-family: 'Pacifico', cursive; /* Aplicar la fuente Pacifico */
    }

    /* Espacio entre el título y el botón informativo */
    #info-button {
        margin-left: 10px; /* Añade espacio a la izquierda del botón */
    }
        
    /* Contenedor para la lista de eventos en la pantalla principal */
    #events-list {
        overflow-y: auto; /* Agrega scroll vertical si el contenido excede el alto */
        margin-top: 8px; /* Añade espacio encima de la lista de eventos */
    }
   




/* Estilos para el Pop-up de Información */
    
    /* Contenedor principal del pop-up (fondo oscuro semi-transparente) */
    #info-popup {
        position: fixed; /* Posición fija en la ventana */
        top: 0;
        left: 0;
        width: 100%; /* Cubre todo el ancho */
        height: 100%; /* Cubre toda la altura */
        background-color: rgba(0, 0, 0, 0.5); /* Color de fondo semi-transparente */
        display: flex; /* Usa flexbox para centrar el contenido */
        justify-content: center; /* Centra horizontalmente */
        align-items: center; /* Centra verticalmente */
        z-index: 1000; /* Asegura que esté por encima de otros elementos */
    }
    
    /* Contenedor del contenido del pop-up */
    #popup-content {
        background-color: #ffffff; /* Fondo blanco */
        padding: 20px; /* Espacio interno */
        border-radius: 5px; /* Bordes redondeados */
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); /* Sombra */
        max-width: 80%; /* Ancho máximo */
        text-align: center; /* Centra el texto */
    }
    
    /* Estilos para el botón de cerrar del pop-up */
    #close-popup-button {
        margin-top: 15px; /* Espacio entre texto y boton */
    }
    













/* Estilos para los elementos de la pantalla de edición */

    /* Estilos específicos para el título alternativo en la pantalla de edición */
    #edit-screen-title-alt {
        font-family: var(--event-name-font); /* Aplicar la variable de fuente */
        font-size: 1em; /* Puedes ajustar el tamaño si es necesario */
    }

    /* Estilos para los campos de entrada (texto y color) en la pantalla de edición */
    #edit-screen input[type="text"],
    #edit-screen input[type="color"] {
        display: block; /* Mostrar como bloque para que cada uno esté en su propia línea */
        margin: 0 auto 15px auto; /* Centrar horizontalmente y añadir espacio debajo */
        padding: 8px; /* Espacio interno */
        width: 80%; /* Ancho del 80% del contenedor padre */
        max-width: 300px; /* Ancho máximo para que no se estire demasiado en pantallas grandes */
        box-sizing: border-box; /* Incluir padding y borde en el cálculo del ancho */
    }
    
    /* Asegurar que el selector de color tenga una altura razonable */
    #edit-screen input[type="color"] {
        width: 50px; /* Ancho reducido para el selector de color */
        max-width: 50px; /* Ancho máximo reducido */
        height: 35px; /* Altura específica para el selector de color */
    }
    
    /* Contenedor para los botones de acción en la pantalla de edición */
    .edit-buttons-container {
        display: flex; /* Usar flexbox para alinear los botones */
        justify-content: center; /* Centra el grupo de botones horizontalmente */
        gap: 10px; /* Añade espacio entre los botones */
        margin-top: 20px; /* Espacio encima del contenedor de botones */
    }
    
      


























/* --- Estilos para la pantalla de Gráficos (charts-screen) --- */

/* afecta a los titulos de la pantalla de graficos y personailzacion */
/* texto dinamico en color */
#charts-screen .action-title,
#personalization-screen .action-title {
    font-size: 1em;
    /* Tamaño de fuente normal */
    font-weight: normal;
    /* Peso de fuente normal */
    font-family: var(--event-name-font);
    /* Aplicar la variable de fuente */
    color: var(--header-text-color);
    font-weight: bold;
    /* Añade negrita al texto */
    /* Puedes añadir otros estilos aquí si es necesario, como margin-right para separar del botón */
}

/* Estilos para los títulos de los gráficos */
.chart-title {
    margin-bottom: 5px;
    /* Reduce el espacio debajo del título del gráfico */
    font-family: var(--event-name-font);
    /* Aplicar la variable de fuente */
    color: var(--body-text-color);
    /* Aplicar el color de texto dinámico del cuerpo */
}

/* Contenedor para cada par título-canvas */
.chart-section {
    display: flex;
    /* Usar flexbox */
    flex-direction: column;
    /* Apilar título y canvas verticalmente */
    align-items: flex-start;
    /* Alinear título y canvas a la izquierda dentro de este contenedor */
    width: 90%;
    /* Hacer que ocupe todo el ancho disponible dentro de #charts-container */
    /* Añadir un margen inferior para separar las secciones de gráficos */
    /* max-width: 400px; /* ELIMINADO: Permite la expansión horizontal */
    margin-bottom: 20px;
    box-sizing: border-box;
    /* Incluir padding y borde en el tamaño */
}


/* contenedor principal para los graficos */
#charts-container {
    display: flex;
    /* Usar flexbox */
    flex-direction: column;
    /* Apilar los elementos hijos (canvas) verticalmente */
    /* align-items: center; /* ELIMINADO: Permite alinear a la izquierda para scroll */
    align-items: flex-start;
    /* Alinear a la izquierda */
    gap: 0px;
    /* Añade espacio vertical entre los gráficos */
    /* Asegurar que el contenedor ocupe el espacio restante y permita scroll si es necesario */
    flex-grow: 1;
    /* Permite que ocupe el espacio disponible */
    overflow-y: auto;
    /* Agrega scroll vertical si el contenido excede el alto */
    overflow-x: auto;
    /* AÑADIDO: Permite scroll horizontal */
    padding-bottom: 20px;
    /* Añadir padding al final si hay scroll */
    box-sizing: border-box;
    /* Incluir padding y borde en el tamaño */
}

/* NUEVO: Contenedor que envuelve el Canvas */
.canvas-wrapper {
    display: none;
    /* Oculto por defecto, JS lo mostrará */
    /* NO definir width, height, max-width, max-height aquí */
    position: relative;
    /* Necesario para Chart.js tooltips y hover */
    box-sizing: border-box;
    /* Incluir padding y borde en el tamaño */
}

/* Estilos para los elementos canvas donde se dibujarán los gráficos */
#charts-container canvas {
    /* ELIMINADO: Estilos de tamaño fijo/máximo. El tamaño se controlará por JS */
    border: 1px solid #ccc;
    /* Borde para visualizar el espacio reservado */
    background-color: #eee;
    /* Color de fondo para visualizar el espacio reservado */
    /* Asegurar que el canvas pueda encogerse si el contenedor es más pequeño */
    flex-shrink: 0;
    touch-action: none;
    /* Importante para el zoom táctil */
    display: block;
    /* Asegurar que el canvas se comporta como bloque */
}


/* NUEVO: Contenedor para el mensaje UX */
.chart-message-container {
    display: none;
    /* Oculto por defecto, JS lo mostrará */
    width: 400px;
    /* Ancho sugerido para el contenedor del mensaje */
    height: 100px;
    /* Altura sugerida */
    border: 1px solid #ccc;
    /* Borde similar al del canvas */
    background-color: #eee;
    /* Fondo similar al del canvas */
    margin-bottom: 20px;
    /* Espacio debajo del mensaje */
    display: flex;
    /* Usar flexbox para centrar contenido */
    justify-content: center;
    /* Centrar horizontalmente */
    align-items: center;
    /* Centrar verticalmente */
    text-align: center;
    /* Centrar texto si es multilinea */
    box-sizing: border-box;
    /* Incluir padding y borde en el tamaño */
    /* Aplicar la fuente dinámica y color al texto del mensaje */
    font-family: var(--event-name-font);
    color: var(--body-text-color);
}


/* Estilos para el párrafo dentro del contenedor de mensaje */
.chart-message-container p {
    margin: 0;
    /* Eliminar margen por defecto del párrafo */
}


/* NUEVO: Estilos para el botón intercambiador de tamaño */
.chart-toggle-button {
    /* Hereda estilos básicos de .app-button */
    margin-bottom: 5px;
    /* Espacio debajo del botón */
    /* Posicionamiento: Podrías ajustarlo para flotar o estar en una esquina si no está en línea con el título */
    align-self: flex-end;
    /* Alinea el botón a la derecha si el contenedor padre es flex column */
    margin-left: auto;
    /* Empuja el botón a la derecha si está en un flex container row */
}

/* Asegurar que el ícono Font Awesome dentro del botón sea visible */
.chart-toggle-button i {
    /* Puedes definir color o tamaño si es necesario, pero debería heredar del .app-button si está bien configurado */
    color: inherit;
    /* Usa el color de texto heredado del botón */
}


/* Contenedor para los botones de acción en la pantalla de gráficos */
.charts-buttons-container {
    margin-bottom: 20px;
    /* Añade espacio debajo del contenedor de botones */
    margin-top: 20px;
    /* Añade espacio arriba del contenedor de botones para separarlo de los gráficos */
    /* Asegurar que este contenedor no se estire y permanezca al final si hay scroll en #charts-container */
    flex-shrink: 0;
}






















/* --- Estilos para la pantalla de Personalización (personalization-screen) --- */
   
    /* Contenedor principal para los controles de personalización */
    #personalization-controls {
        max-width: 400px; /* Ancho máximo para que el contenedor no sea demasiado ancho */
        margin: 0 auto; /* Centra el contenedor horizontalmente */
        display: flex; /* Usar flexbox */
        flex-direction: column; /* Apilar los elementos hijos verticalmente */
        gap: 15px; /* Espacio vertical entre cada opción de personalización */
        padding: 20px; /* Espacio interno alrededor de los controles */
    }
   




/* --- Estilos para los Eventos --- */
   
    /* Contenedor principal de cada evento */
    .event-container {
        border: 1px solid #ccc; /* Borde para el rectángulo */
        padding: 15px; /* Espacio interno */
        margin-bottom: 5px; /* Espacio entre eventos */
        border-radius: 8px; /* Bordes redondeados */
        background-color: #f9f9f9; /* Color de fondo suave */
        display: flex; /* Activar flexbox para columnas */
        align-items: center; /* Centrar elementos en las columnas verticalmente */
        gap: 10px; /* Espacio entre columnas */
    }
    
    /* Estilos generales para las columnas del evento */
    .event-column {
        display: flex; /* Usar flexbox */
        /* La dirección y alineación se definirán en clases específicas */
    }
    
    /* Columna izquierda (botón de incremento) */
    .left-column {
        flex-direction: column; /* Asegura que el contenido se apile si hay más */
        justify-content: center; /* Centra el botón verticalmente si la columna es más alta */
        align-items: center; /* Centra el botón horizontalmente */
        /* Puedes ajustar flex-basis o width si necesitas un ancho fijo */
    }
    
    /* Columna central (nombre y contadores) */
    .center-column {
        flex-direction: column; /* Apilar nombre y contadores verticalmente */
        flex-grow: 1; /* Permite que esta columna ocupe el espacio restante */
        gap: 10px; /* Espacio entre la fila del nombre y la fila de contadores */
    }
    
    /* Columna derecha (checkbox) */
    .right-column {
        flex-direction: column; /* Asegura que el contenido se apile si hay más */
        justify-content: center; /* Centra el checkbox verticalmente */
        align-items: center; /* Centra el checkbox horizontalmente */
        /* Puedes ajustar flex-basis o width si necesitas un ancho fijo */
    }
    
    /* Estilos para las filas dentro de la columna central */
    .event-row {
        display: flex; /* Usar flexbox */
        /* La dirección y alineación se definirán en clases específicas */
    }
    
    /* Fila superior (nombre del evento) */
    .event-name {
        justify-content: center; /* Centra el nombre horizontalmente */
        /* Puedes añadir flex-grow: 1; si quieres que ocupe todo el ancho disponible */
    }
        
        /* Estilo para el párrafo del nombre del evento */
        .event-name p {
            margin: 0; /* Elimina el margen por defecto del párrafo */
            font-size: 1.1em; /* Tamaño de fuente ligeramente más grande */
            font-family: var(--event-name-font); /* Usar variable CSS */
            font-weight: bold; /* Negrita para el nombre */
        }
   
    /* Fila inferior (contenedor de contadores) */
    .counters-container {
        justify-content: space-around; /* Distribuye los contadores uniformemente */
        align-items: center; /* Centra los contadores verticalmente en la fila */
    }
    
    /* Estilos para cada elemento contador (Hist, Ayer, Hoy) */
    .counter-item {
        /* Puedes añadir estilos adicionales si quieres bordes o fondos */
        margin: 0 5px; /* Solo para que no esté vacía y corregir el error */
    }
    
    /* Estilo para los valores numéricos de los contadores */
    .counter-value {
        font-weight: bold; /* Pone el texto en negrita */
    }
    
    /* Estilo para los párrafos dentro de los contadores */
    .counter-item p {
        margin: 0; /* Elimina el margen por defecto del párrafo */
        font-size: 0.9em; /* Tamaño de fuente ligeramente más pequeño */
        color: #555; /* Color de texto más suave */
    }
    
    /* Estilos para el botón de incremento */
    .increment-button {
        padding: 8px 12px; /* Espacio interno */
        font-size: 1.2em; /* Tamaño de fuente del '+' */
        font-weight: bold; /* Negrita */
        border: 1px solid #4CAF50; /* Borde verde */
        border-radius: 50%; /* Forma redonda */
        background-color: #4CAF50; /* Fondo verde */
        color: white; /* Texto blanco */
        cursor: pointer; /* Cursor de mano */
        width: 40px; /* Ancho fijo para hacerlo redondo */
        height: 40px; /* Altura fija para hacerlo redondo */
        display: flex; /* Usar flexbox para centrar el '+' */
        justify-content: center; /* Centrar horizontalmente */
        align-items: center; /* Centrar verticalmente */
        flex-shrink: 0; /* Evita que se encoja */
    }
    
    /* Estilos para el checkbox de selección */
    .select-checkbox {
        width: 20px; /* Tamaño del checkbox */
        height: 20px; /* Tamaño del checkbox */
        cursor: pointer; /* Cursor de mano */
        flex-shrink: 0; /* Evita que se encoja */
    }     

    /* Estilos para el Pop-up de Carga --- */

    /* Contenedor principal del pop-up de carga (fondo oscuro semi-transparente) */
    #loading-popup {
        position: fixed; /* Posición fija en la ventana */
        top: 0;
        left: 0;
        width: 100%; /* Cubre todo el ancho */
        height: 100%; /* Cubre toda la altura */
        background-color: rgba(82, 92, 28, 0.5); /* Color de fondo semi-transparente */
        display: flex; /* Usa flexbox para centrar el contenido */
        justify-content: center; /* Centra horizontalmente */
        align-items: flex-start; /* Centra verticalmente */
        z-index: 1500; /* Asegura que esté por encima del pop-up de información */
        /* --- NUEVO: Deshabilitar eventos de ratón --- */
        pointer-events: none;
    }

    /* Estilos para el mensaje de carga dentro del pop-up */
    #loading-message {
        margin-top:5%; /* Añade espacio encima del mensaje */  
        background-color: #b6559e; /* Fondo blanco */
        padding: 20px; /* Espacio interno */
        width: 100%; /* Hacer que el mensaje ocupe todo el ancho disponible */
        text-align: center; /* Centrar el texto del mensaje */
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); /* Sombra */
        font-size: 20px; /* <-- Añade esta línea para aumentar el tamaño de la fuente */
        color: #003f72; 
    }